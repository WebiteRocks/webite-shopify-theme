<footer>
    <section class="uk-section uk-section-secondary uk-section-small uk-light">
        <div class="uk-container">
        <div class="uk-grid-medium uk-child-width-1-1 uk-child-width-1-{{ section.blocks.size }}@m uk-grid" uk-grid="">
            {% for block in section.blocks %}
              <div {{ block.shopify_attributes }}>
                {% case block.type %}
                  {% when 'logo_text' %}
                    {% if block.settings.logo != blank %}
                      <a class="uk-logo" href="{{ routes.root_url }}">
                        {{ block.settings.logo | image_url: width: 200 | image_tag: width: block.settings.logo_width, alt: shop.name }}
                      </a>
                    {% else %}
                      <a class="uk-logo" href="{{ routes.root_url }}">{{ shop.name }}</a>
                    {% endif %}
                    {% if block.settings.text != blank %}
                      <p class="uk-text-small">{{ block.settings.text }}</p>
                    {% endif %}
                    {% if block.settings.show_socials %}
                      <ul class="uk-iconnav">
                        {% if block.settings.facebook_url != blank %}
                          <li><a href="{{ block.settings.facebook_url }}" title="Facebook" uk-icon="facebook"></a></li>
                        {% endif %}
                        {% if block.settings.twitter_url != blank %}
                          <li><a href="{{ block.settings.twitter_url }}" title="Twitter" uk-icon="twitter"></a></li>
                        {% endif %}
                        {% if block.settings.youtube_url != blank %}
                          <li><a href="{{ block.settings.youtube_url }}" title="YouTube" uk-icon="youtube"></a></li>
                        {% endif %}
                        {% if block.settings.instagram_url != blank %}
                          <li><a href="{{ block.settings.instagram_url }}" title="Instagram" uk-icon="instagram"></a></li>
                        {% endif %}
                        {% if block.settings.tiktok_url != blank %}
                          <li><a href="{{ block.settings.tiktok_url }}" title="TikTok" uk-icon="tiktok"></a></li>
                        {% endif %}
                        {% if block.settings.pinterest_url != blank %}
                          <li><a href="{{ block.settings.pinterest_url }}" title="Pinterest" uk-icon="pinterest"></a></li>
                        {% endif %}
                      </ul>
                    {% endif %}

                  {% when 'menu' %}
                    {% if block.settings.heading != blank %}
                      <h4 class="uk-h5">{{ block.settings.heading }}</h4>
                    {% endif %}
                    {% if block.settings.menu != blank %}
                      {% if block.settings.two_columns %}
                        <nav class="uk-grid-small uk-child-width-1-2 uk-grid" uk-grid="">
                          {% assign menu_links = linklists[block.settings.menu].links %}
                          {% assign half = menu_links.size | divided_by: 2 | ceil %}
                          <div>
                            <ul class="uk-nav uk-nav-default">
                              {% for link in menu_links limit: half %}
                                <li><a href="{{ link.url }}">{{ link.title }}</a></li>
                              {% endfor %}
                            </ul>
                          </div>
                          <div>
                            <ul class="uk-nav uk-nav-default">
                              {% for link in menu_links offset: half %}
                                <li><a href="{{ link.url }}">{{ link.title }}</a></li>
                              {% endfor %}
                            </ul>
                          </div>
                        </nav>
                      {% else %}
                        <ul class="uk-nav uk-nav-default">
                          {% for link in linklists[block.settings.menu].links %}
                            <li><a href="{{ link.url }}">{{ link.title }}</a></li>
                          {% endfor %}
                        </ul>
                      {% endif %}
                    {% endif %}

                  {% when 'contact' %}
                    {% if block.settings.heading != blank %}
                      <h4 class="uk-h5">{{ block.settings.heading }}</h4>
                    {% endif %}
                    <ul class="uk-list uk-text-small">
                      {% if block.settings.phone != blank %}
                        <li><a class="uk-link-muted" href="tel:{{ block.settings.phone | remove: ' ' }}"><span class="uk-margin-small-right uk-icon" uk-icon="receiver"></span><span class="tm-pseudo">{{ block.settings.phone }}</span></a></li>
                      {% endif %}
                      {% if block.settings.email != blank %}
                        <li><a class="uk-link-muted" href="mailto:{{ block.settings.email }}"><span class="uk-margin-small-right uk-icon" uk-icon="mail"></span><span class="tm-pseudo">{{ block.settings.email }}</span></a></li>
                      {% endif %}
                      {% if block.settings.address != blank %}
                        <li>
                          <div class="uk-text-muted"><span class="uk-margin-small-right uk-icon" uk-icon="location"></span><span>{{ block.settings.address }}</span></div>
                        </li>
                      {% endif %}
                      {% if block.settings.hours != blank %}
                        <li>
                          <div class="uk-text-muted"><span class="uk-margin-small-right uk-icon" uk-icon="clock"></span><span>{{ block.settings.hours }}</span></div>
                        </li>
                      {% endif %}
                    </ul>

                  {% when 'newsletter' %}
                    {% if block.settings.heading != blank %}
                      <h4 class="uk-h5">{{ block.settings.heading }}</h4>
                    {% endif %}
                    {% form 'customer', class: 'uk-form-stacked' %}
                      <input type="hidden" name="contact[tags]" value="newsletter">
                      {% if form.errors %}
                        <div class="uk-alert uk-alert-danger uk-text-small">
                          {{ form.errors | default_errors }}
                        </div>
                      {% endif %}
                      {% if form.posted_successfully? %}
                        <div class="uk-alert uk-alert-success uk-text-small">
                          {{ block.settings.success_message | default: 'Thanks for subscribing!' }}
                        </div>
                      {% else %}
                        <label>
                          {% if block.settings.label != blank %}
                            <div class="uk-form-label uk-text-muted">{{ block.settings.label }}</div>
                          {% endif %}
                          <div class="uk-inline uk-width-1-1">
                            <button type="submit" class="uk-form-icon uk-form-icon-flip uk-icon" uk-icon="mail" aria-label="Subscribe to newsletter"></button>
                            <input class="uk-input" type="email" name="contact[email]" placeholder="{{ block.settings.placeholder | default: 'Your email' }}" required="">
                          </div>
                        </label>
                      {% endif %}
                    {% endform %}
                    {% if block.settings.subtext != blank %}
                      <div class="uk-margin uk-text-small uk-text-muted">{{ block.settings.subtext }}</div>
                    {% endif %}

                {% endcase %}
              </div>
            {% endfor %}
        </div>
        </div>
    </section>
</footer>

{% schema %}
{
  "name": "Footer",
  "class": "section-footer",
  "tag": "section",
  "max_blocks": 6,
  "settings": [],
  "blocks": [
    {
      "type": "logo_text",
      "name": "Logo & Text",
      "limit": 1,
      "settings": [
        {
          "type": "image_picker",
          "id": "logo",
          "label": "Logo image"
        },
        {
          "type": "range",
          "id": "logo_width",
          "label": "Logo width",
          "min": 50,
          "max": 200,
          "step": 10,
          "default": 90,
          "unit": "px"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Description text",
          "default": "Lorem ipsum dolor sit amet, consectetur adipiscing elit."
        },
        {
          "type": "header",
          "content": "Social Media"
        },
        {
          "type": "checkbox",
          "id": "show_socials",
          "label": "Show social icons",
          "default": true
        },
        {
          "type": "url",
          "id": "facebook_url",
          "label": "Facebook URL"
        },
        {
          "type": "url",
          "id": "twitter_url",
          "label": "Twitter/X URL"
        },
        {
          "type": "url",
          "id": "youtube_url",
          "label": "YouTube URL"
        },
        {
          "type": "url",
          "id": "instagram_url",
          "label": "Instagram URL"
        },
        {
          "type": "url",
          "id": "tiktok_url",
          "label": "TikTok URL"
        },
        {
          "type": "url",
          "id": "pinterest_url",
          "label": "Pinterest URL"
        }
      ]
    },
    {
      "type": "menu",
      "name": "Menu",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Menu",
          "default": "footer"
        },
        {
          "type": "checkbox",
          "id": "two_columns",
          "label": "Show in two columns",
          "default": false
        }
      ]
    },
    {
      "type": "contact",
      "name": "Contact Info",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Contact Us"
        },
        {
          "type": "text",
          "id": "phone",
          "label": "Phone number",
          "default": "8 800 799 99 99"
        },
        {
          "type": "text",
          "id": "email",
          "label": "Email address",
          "default": "example@example.com"
        },
        {
          "type": "text",
          "id": "address",
          "label": "Address",
          "default": "123 Main Street, City"
        },
        {
          "type": "text",
          "id": "hours",
          "label": "Business hours",
          "default": "Daily 10:00–22:00"
        }
      ]
    },
    {
      "type": "newsletter",
      "name": "Newsletter",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Newsletter"
        },
        {
          "type": "text",
          "id": "label",
          "label": "Form label",
          "default": "Subscribe for updates"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Email placeholder",
          "default": "Your email"
        },
        {
          "type": "text",
          "id": "success_message",
          "label": "Success message",
          "default": "Thanks for subscribing!"
        },
        {
          "type": "textarea",
          "id": "subtext",
          "label": "Subtext below form"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Footer",
      "category": "Footer",
      "blocks": [
        {
          "type": "logo_text",
          "settings": {
            "text": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed ut mauris eros.",
            "show_socials": true,
            "facebook_url": "#",
            "instagram_url": "#"
          }
        },
        {
          "type": "menu",
          "settings": {
            "heading": "Quick Links",
            "menu": "main-menu",
            "two_columns": true
          }
        },
        {
          "type": "contact",
          "settings": {
            "heading": "Contact Us",
            "phone": "8 800 799 99 99",
            "email": "example@example.com",
            "address": "123 Main Street, City",
            "hours": "Daily 10:00–22:00"
          }
        },
        {
          "type": "newsletter",
          "settings": {
            "heading": "Newsletter",
            "label": "Subscribe for updates",
            "placeholder": "Your email",
            "success_message": "Thanks for subscribing!"
          }
        }
      ]
    }
  ],
  "enabled_on": {
    "groups": ["footer"]
  }
}
{% endschema %}
